!function(){"use strict";var e=window.React,t=window.wp.blocks,o=window.wp.hooks,s=window.wp.blockEditor,r=window.wp.components,n=window.wp.coreData,l=window.wp.compose;const a=({setAttributes:t,attributes:o})=>{const[a,i]=(0,e.useState)(""),{isResolving:c,records:p}=(0,n.useEntityRecords)("postType","post",{per_page:10,search:a}),u=(0,l.useDebounce)((e=>{i(e)}),300);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.InspectorControls,null,(0,e.createElement)(r.PanelBody,null,(0,e.createElement)(r.ComboboxControl,{label:"Search a post",onChange:e=>{const s={attributes:o,query:{...o.query,include:[e],selectedPostId:e}};t(s)},onFilterValueChange:e=>{u(e)},options:c?[{label:"Loading...",value:"loading"}]:p?.map((e=>({label:e?.title?.rendered,value:String(e?.id)})))||[],value:o?.query?.selectedPostId||"loading"}))))},i="read-also-post-block/single-post-picker";(0,t.registerBlockVariation)("core/query",{name:i,title:"Single Post Picker",description:"Displays a single post",isActive:["namespace"],attributes:{namespace:i,query:{perPage:1,postType:"post",sticky:"exclude"},className:"is-style-single-post-picker"},allowedControls:[],innerBlocks:[["core/post-template",{},[["core/post-title"],["core/post-excerpt"]]]],scope:["inserter"]}),(0,o.addFilter)("editor.BlockEdit","core/query",(t=>o=>{if((e=>{const{attributes:{namespace:t}}=e;return t&&t===i})(o)){const{setAttributes:s,attributes:r}=o;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,{attributes:r,setAttributes:s}),(0,e.createElement)(t,{...o}))}return(0,e.createElement)(t,{...o})}))}();